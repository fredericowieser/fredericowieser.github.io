<!DOCTYPE html>
<html lang="en-gb"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">streams | Fred Wieser</title>
<meta property="og:title" content="streams | Fred Wieser" />
<meta name="twitter:title" content="streams | Fred Wieser" />
<meta itemprop="name" content="streams | Fred Wieser" />
<meta name="application-name" content="streams | Fred Wieser" />
<meta property="og:site_name" content="Fred Wieser" />

<meta name="description" content="Professional Problem Solver">
<meta itemprop="description" content="Professional Problem Solver" />
<meta property="og:description" content="Professional Problem Solver" />
<meta name="twitter:description" content="Professional Problem Solver" />

<meta property="og:locale" content="en-gb" />
<meta name="language" content="en-gb" />

  <link rel="alternate" hreflang="en-gb" href="http://localhost:1313/wieserpedia/_net/fundamentals/io-operations/streams/" title="" />



  <meta itemprop="image" content="http://localhost:1313/" />
  <meta property="og:image" content="http://localhost:1313/" />
  <meta name="twitter:image" content="http://localhost:1313/" />
  <meta name="twitter:image:src" content="http://localhost:1313/" />





<meta name="generator" content="Hugo 0.128.0">

    

    <link rel="canonical" href="http://localhost:1313/wieserpedia/_net/fundamentals/io-operations/streams/">
    <link href="/style.min.457a762023c72861206ec5bb10e1b9c48ab24b334b14f6149cddaafd400b6391.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    </head>
<body data-theme = "auto" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/projects/">
                        Projects
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/blog/">
                        Blog
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/wieserpedia/">
                        Wieserpedia
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/about/">
                        About
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/cv/">
                        CV
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>
<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">streams</h1>
                
                
                <div class="post-meta">
                    <time datetime="2022-01-22T00:00:00-06:00" itemprop="datePublished"> 22 Jan 2022 </time>
                </div>
                
            </header>
            
            <div class="page-content">
                <h1 id="overview-documentationhttpslearnmicrosoftcomen-usdotnetstandardio">Overview [<a href="https://learn.microsoft.com/en-us/dotnet/standard/io/">Documentation</a>]</h1>
<p>A <em>stream</em> is a sequence of bytes that can be read from and written to.</p>
<p>Streams involve three fundamental operations:</p>
<ul>
<li><code>Read</code> – The transfer of data from a stream into a data structure.</li>
<li><code>Write</code> – The transfer or data from a data structure into a stream.</li>
<li><code>Seek</code> – Querying and modifying the current position within a stream.</li>
</ul>
<p>Depending on a stream&rsquo;s underlying data source, a stream may only support some subset of these operations.
This can be tested with <code>CanRead</code>, <code>CanWrite</code>, and <code>CanSeek</code> properties.</p>
<h1 id="overview-of-types-for-streams">Overview of Types for Streams</h1>
<p>See <a href="../overview#overview-of-types-for-streams">here</a>.</p>
<h1 id="composing-streams-documentationhttpsdocsmicrosoftcomen-usdotnetapisystemiostreamviewnet-60---documentationhttpslearnmicrosoftcomen-usdotnetstandardiocomposing-streams">Composing Streams [<a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.stream?view=net-6.0">Documentation</a>]   [<a href="https://learn.microsoft.com/en-us/dotnet/standard/io/composing-streams">Documentation</a>]</h1>
<p><code>Stream</code> is the abstract base class of all streams. All streams implement <code>IDisposable</code>.</p>
<p>A <em>backing store</em> is a storage medium such as disk or memory. Each backing store implements its own stream as an implementation
of the <code>Stream</code> class.<br>
A <em>base stream</em> is a stream that connect to a backing store. They have constructors with the necessary parameters to
connect the stream to the backing store.</p>
<p>Base streams can be attached to one or more <em>pass-through streams</em> that provide specific functionality. In this example,
the base stream is a <code>FileStream</code> and the pass-through stream is a <code>StreamReader</code> composed of that base stream:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">System</span>;
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">System.IO</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">public</span> <span style="color:#ff7b72">class</span> <span style="color:#f0883e;font-weight:bold">CompBuf</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">private</span> <span style="color:#ff7b72">const</span> <span style="color:#ff7b72">string</span> FILE_NAME = <span style="color:#a5d6ff">&#34;MyFile.txt&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff7b72">public</span> <span style="color:#ff7b72">static</span> <span style="color:#ff7b72">void</span> Main()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff7b72">if</span> (!File.Exists(FILE_NAME))
</span></span><span style="display:flex;"><span>			<span style="color:#ff7b72">throw</span> <span style="color:#ff7b72">new</span> Exception();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex; background-color:#6e7681"><span>        FileStream fsIn = <span style="color:#ff7b72">new</span> FileStream(FILE_NAME, FileMode.Open, FileAccess.Read, FileShare.Read);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex; background-color:#6e7681"><span>		<span style="color:#ff7b72">using</span> (StreamReader sr = <span style="color:#ff7b72">new</span> StreamReader(fsIn))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff7b72">string</span> input;
</span></span><span style="display:flex;"><span>            <span style="color:#8b949e;font-style:italic">// While not at the end of the file, read lines from the file.</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff7b72">while</span> (sr.Peek() &gt; -<span style="color:#a5d6ff">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                input = sr.ReadLine();
</span></span><span style="display:flex;"><span>                Console.WriteLine(input);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="bit-bucket">Bit Bucket</h1>
<p>A stream with no backing store.  To create this, use the <code>Null</code> field to retrieve an instance of a stream.</p>
<h1 id="readers-and-writers">Readers and Writers</h1>
<p>The <code>System.IO</code> namespace contains types for reading encoded characters from and writing to streams.
These types handle conversion of encoded characters to and from bytes. Each reader and writer class is associated
with a stream accessible via its <code>BaseStream</code> property.</p>
<table>
<thead>
<tr>
<th>Helper Class</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>BinaryReader</code> and <code>BinaryWriter</code></td>
<td>Reading and writing primitive data types as binary values</td>
</tr>
<tr>
<td><code>StreamReader</code> and <code>StreamWriter</code></td>
<td>Reading and writing characters by using an encoding value to convert the characters to/from bytes</td>
</tr>
<tr>
<td><code>StringReader</code> and <code>StringWriter</code></td>
<td>Reading and writing characters to/from strings</td>
</tr>
<tr>
<td><code>TextReader</code> and <code>TextWriter</code></td>
<td>The abstract base class for other readers and writers of text data (but not binary data)</td>
</tr>
</tbody>
</table>
<h1 id="stream-helpers">Stream Helpers</h1>
<h2 id="streamreader">StreamReader</h2>
<p>A <code>TextReader</code> that reads characters (not bytes) from a stream in a particular encoding (like UTF-8).</p>
<ul>
<li>Implements <code>IDisposable</code>.</li>
<li><r>Warning</r>: Not thread safe. See <code>TextReader.Synchronized</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>StreamWriter tw = File.CreateText(PATH_TO_TEXT_FILE); <span style="color:#8b949e;font-style:italic">// TextWriter</span>
</span></span><span style="display:flex;"><span>tw.WriteLine(<span style="color:#a5d6ff">&#34;*some text*&#34;</span>);
</span></span><span style="display:flex;"><span>tw.Close(); <span style="color:#8b949e;font-style:italic">// Close the file and release resources.</span>
</span></span></code></pre></div><h2 id="streamwriter">StreamWriter</h2>
<p>A <code>TextWriter</code> that writes characters (not bytes) from a stream in a particular encoding (like UTF-8).</p>
<ul>
<li>Implements <code>IDisposable</code>.</li>
<li><r>Warning</r>: Not thread safe. See <code>TextWriter.Synchronized</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>StreamReader tr = File.OpenText(PATH_TO_TEXT_FILE); <span style="color:#8b949e;font-style:italic">// TextReader</span>
</span></span><span style="display:flex;"><span>WriteLine(tr.ReadToEnd());
</span></span><span style="display:flex;"><span>tr.Close();
</span></span></code></pre></div><h1 id="writing-to-xml-streams">Writing to XML Streams</h1>
<p>Use <code>WriteStartElement</code> and <code>WriteEndElement</code> when an element may have child elements.<br>
Use <code>WriteElementString</code> when an element does not have children.</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>FileStream? xmlFileStream = <span style="color:#79c0ff">null</span>;
</span></span><span style="display:flex;"><span>XMLWriter? xml = <span style="color:#79c0ff">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">using</span> (xmlFileStream = File.Create(file.xml)) <span style="color:#8b949e;font-style:italic">// The using statement automatically generates a finally statement</span>
</span></span><span style="display:flex;"><span>{							<span style="color:#8b949e;font-style:italic">// that calls Dispose on any object that implements IDisposable.</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ff7b72">using</span> (xml = XmlWriter.Create(xmlFileStream, <span style="color:#8b949e;font-style:italic">// Wrap the file stream in an XML writer stream helper.</span>
</span></span><span style="display:flex;"><span>	  <span style="color:#ff7b72">new</span> XmlWriterSettings { Indent = <span style="color:#79c0ff">true</span>} ))  <span style="color:#8b949e;font-style:italic">// Automatically indent nested elements.</span>
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#ff7b72">try</span> 
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			xml.WriteStartDocument(); <span style="color:#8b949e;font-style:italic">// Write the XML declaration.</span>
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			xml.WriteStartElement(<span style="color:#a5d6ff">&#34;callsigns&#34;</span>); <span style="color:#8b949e;font-style:italic">// Write a root element.</span>
</span></span><span style="display:flex;"><span>			xml.WriteElementString(<span style="color:#a5d6ff">&#34;callsign&#34;</span>, <span style="color:#a5d6ff">&#34;Maverick&#34;</span>);
</span></span><span style="display:flex;"><span>			xml.WriteElementString(<span style="color:#a5d6ff">&#34;callsign&#34;</span>, <span style="color:#a5d6ff">&#34;Iceman&#34;</span>);
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			xml.WriteEndElement(); <span style="color:#8b949e;font-style:italic">// Write the close root element.</span>
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			xml.Close(); <span style="color:#8b949e;font-style:italic">// Close the helper.</span>
</span></span><span style="display:flex;"><span>			xmlFileStream.Close(); <span style="color:#8b949e;font-style:italic">// Close the file stream.</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#ff7b72">catch</span> (Exception ex) {
</span></span><span style="display:flex;"><span>			<span style="color:#f85149">…</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	} <span style="color:#8b949e;font-style:italic">// Automatically calls xml.Dispose() if the object is not null.</span>
</span></span><span style="display:flex;"><span>} <span style="color:#8b949e;font-style:italic">// Automatically calls xmlFileStream.Dispose() if the object is not null.</span>
</span></span></code></pre></div><p>Output:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#8b949e;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#7ee787">&lt;callsigns&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7ee787">&lt;callsign&gt;</span>Maverick<span style="color:#7ee787">&lt;/callsign&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7ee787">&lt;callsign&gt;</span>Iceman<span style="color:#7ee787">&lt;/callsign&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#7ee787">&lt;/callsigns&gt;</span>
</span></span></code></pre></div><h1 id="reading-from-xml-streams">Reading from XML Streams</h1>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff7b72">using</span> (XmlReader reader = XmlReader.Create(xmlFilestream))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#ff7b72">while</span> (reader.Read()) <span style="color:#8b949e;font-style:italic">// Read the nextXML node.</span>
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#ff7b72">if</span> ((reader.NodeType = XmlNodeType.Element) <span style="color:#8b949e;font-style:italic">// Check if we are on an element node named &#34;callsign&#34;.</span>
</span></span><span style="display:flex;"><span>		  &amp;&amp; (read.Name == <span style="color:#a5d6ff">&#34;callsign&#34;</span>))
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			reader.Read(); <span style="color:#8b949e;font-style:italic">// Move to the text inside the element.</span>
</span></span><span style="display:flex;"><span>			Console.WriteLine(<span style="color:#a5d6ff">$&#34;{reader.Value}&#34;</span>); <span style="color:#8b949e;font-style:italic">// Read this element&#39;s value.</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="compressing-streams">Compressing Streams</h1>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">System.IO.Compression</span>; <span style="color:#8b949e;font-style:italic">// BrotliStream, GZipStream, CompressionMode </span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic">// Performance-wise, Brotli is like GZip/Deflate but 20% denser.</span>
</span></span><span style="display:flex;"><span>FileStream file = File.Create(filePath);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Stream compressor = <span style="color:#ff7b72">new</span> GZipStream(file, CompressionMode.Compress); <span style="color:#8b949e;font-style:italic">// Compress file.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">using</span> (compressor)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#ff7b72">using</span> (XmlWriter xml = XmlWriter.Create(compressor))
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		xml.WriteStartDocument();
</span></span><span style="display:flex;"><span>		xml.WriteStartElement(<span style="color:#a5d6ff">&#34;callsigns&#34;</span>);
</span></span><span style="display:flex;"><span>		xml.WriteElementString(<span style="color:#a5d6ff">&#34;callsign&#34;</span>, <span style="color:#a5d6ff">&#34;Maverick&#34;</span>);
</span></span><span style="display:flex;"><span>		xml.WriteElementString(<span style="color:#a5d6ff">&#34;callsign&#34;</span>, <span style="color:#a5d6ff">&#34;Iceman&#34;</span>);
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		<span style="color:#8b949e;font-style:italic">// Due to the using statement on XmlWriter, the normal call to WriteEndElement is not necessary.  When</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8b949e;font-style:italic">// XmlWriter disposes, it will automatically end all elements of any depth.</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="encoding--decoding-streams">Encoding / Decoding Streams</h1>
<p>Example</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>StreamReader r = <span style="color:#ff7b72">new</span>(stream, Encoding.Encoding); <span style="color:#8b949e;font-style:italic">// Text will be decoded as bytes are read from the stream.</span>
</span></span><span style="display:flex;"><span>StreamWriter w = <span style="color:#ff7b72">new</span>(stream, Encoding.Encoding); <span style="color:#8b949e;font-style:italic">// Text will be encoded as bytes are written to the stream.</span>
</span></span></code></pre></div><h1 id="readexactly-and-readatleast"><code>ReadExactly</code> and <code>ReadAtLeast</code></h1>
<p><code>Stream.Read()</code> may return less data than what is available in the stream and less data than the buffer being passed in. <code>ReadExactly</code> and <code>ReadAtLeast</code> address this limitation.</p>
<h2 id="readexactly"><code>ReadExactly</code></h2>
<p>Guaranteed to read exactly the number of bytes requested:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">FileStream</span> f = File.Open(<span style="color:#a5d6ff">&#34;readme.md&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">byte</span>[] buffer = <span style="color:#ff7b72">new</span> <span style="color:#ff7b72">byte</span>[<span style="color:#a5d6ff">100</span>];
</span></span><span style="display:flex;"><span>f.ReadExactly(buffer); <span style="color:#8b949e;font-style:italic">// guaranteed to read 100 bytes from the file</span>
</span></span></code></pre></div><h2 id="readatleast"><code>ReadAtLeast</code></h2>
<p>Guaranteed to read at least the number of bytes requested:</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#ff7b72">using</span> <span style="color:#ff7b72">FileStream</span> f = File.Open(<span style="color:#a5d6ff">&#34;readme.md&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">byte</span>[] buffer = <span style="color:#ff7b72">new</span> <span style="color:#ff7b72">byte</span>[<span style="color:#a5d6ff">100</span>];
</span></span><span style="display:flex;"><span><span style="color:#ff7b72">int</span> bytesRead = f.ReadAtLeast(buffer, <span style="color:#a5d6ff">10</span>);
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic">// 10 &lt;= bytesRead &lt;= 10</span>
</span></span></code></pre></div><p><r>Warning:</r> Throws an <code>EndOfStreamException</code> if the stream ends before the requested bytes have been read.</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/fredericowieser" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://twitter.com/fredericowieser" target="_blank" rel="noopener noreferrer me"
    title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
</a>
<a href="https://www.youtube.com/channel/UCl3L6n0BcAsESYhQSx2uomg" target="_blank" rel="noopener noreferrer me"
    title="Youtube">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
    </path>
    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
</svg>
</a>
<a href="mailto:frederico.wieser@uclmail.net" target="_blank" rel="noopener noreferrer me"
    title="Email">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
    <polyline points="22,6 12,13 2,6"></polyline>
</svg>
</a>
<a href="https://www.linkedin.com/in/frederico-wieser/" target="_blank" rel="noopener noreferrer me"
    title="Linkedin">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2024 Fred Wieser.
        Powered by <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Go to top" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
